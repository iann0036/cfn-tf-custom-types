{
    "typeName": "Terraform::OpenStack::ComputeInstanceV2",
    "description": "Manages a V2 VM instance resource within OpenStack.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "definitions": {
        "BlockDevice": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "BootIndex": {
                    "type": "number",
                    "description": "The boot index of the volume. It defaults to 0.\nChanging this creates a new server."
                },
                "DeleteOnTermination": {
                    "type": "boolean",
                    "description": "Delete the volume / block device upon\ntermination of the instance. Defaults to false. Changing this creates a\nnew server."
                },
                "DestinationType": {
                    "type": "string",
                    "description": "The type that gets created. Possible values\nare \"volume\" and \"local\". Changing this creates a new server."
                },
                "DeviceType": {
                    "type": "string",
                    "description": "The low-level device type that will be used. Most\ncommon thing is to leave this empty. Changing this creates a new server."
                },
                "DiskBus": {
                    "type": "string",
                    "description": "The low-level disk bus that will be used. Most common\nthing is to leave this empty. Changing this creates a new server."
                },
                "GuestFormat": {
                    "type": "string"
                },
                "SourceType": {
                    "type": "string",
                    "description": "The source type of the device. Must be one of\n\"blank\", \"image\", \"volume\", or \"snapshot\". Changing this creates a new\nserver."
                },
                "Uuid": {
                    "type": "string",
                    "description": "The UUID of\nthe image, volume, or snapshot. Changing this creates a new server."
                },
                "VolumeSize": {
                    "type": "number",
                    "description": "The size of the volume to create (in gigabytes). Required\nin the following combinations: source=image and destination=volume,\nsource=blank and destination=local, and source=blank and destination=volume.\nChanging this creates a new server."
                },
                "VolumeType": {
                    "type": "string",
                    "description": "The volume type that will be used, for example SSD\nor HDD storage. The available options depend on how your specific OpenStack\ncloud is configured and what classes of storage are provided. Changing this\ncreates a new server."
                }
            },
            "required": [
                "SourceType"
            ]
        },
        "Network": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AccessNetwork": {
                    "type": "boolean",
                    "description": "Specifies if this network should be used for\nprovisioning access. Accepts true or false. Defaults to false."
                },
                "FixedIpV4": {
                    "type": "string",
                    "description": "Specifies a fixed IPv4 address to be used on this\nnetwork. Changing this creates a new server."
                },
                "FixedIpV6": {
                    "type": "string"
                },
                "FloatingIp": {
                    "type": "string"
                },
                "Name": {
                    "type": "string",
                    "description": "The human-readable\nname of the network. Changing this creates a new server."
                },
                "Port": {
                    "type": "string",
                    "description": "The port UUID of a\nnetwork to attach to the server. Changing this creates a new server."
                },
                "Uuid": {
                    "type": "string",
                    "description": "The network UUID to\nattach to the server. Changing this creates a new server."
                }
            },
            "required": []
        },
        "Personality": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Content": {
                    "type": "string",
                    "description": "The contents of the file. Limited to 255 bytes."
                },
                "File": {
                    "type": "string",
                    "description": "The absolute path of the destination file."
                }
            },
            "required": [
                "Content",
                "File"
            ]
        },
        "SchedulerHints": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "AdditionalProperties": {
                    "type": "array",
                    "insertionOrder": true,
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "MapKey": {
                                "type": "string"
                            },
                            "MapValue": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "MapKey",
                            "MapValue"
                        ]
                    },
                    "description": "Arbitrary key/value pairs of additional\nproperties to pass to the scheduler."
                },
                "BuildNearHostIp": {
                    "type": "string",
                    "description": "An IP Address in CIDR form. The instance\nwill be placed on a compute node that is in the same subnet."
                },
                "DifferentHost": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of instance UUIDs. The instance will\nbe scheduled on a different host than all other instances."
                },
                "Group": {
                    "type": "string",
                    "description": "A UUID of a Server Group. The instance will be placed\ninto that group."
                },
                "Query": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "A conditional query that a compute node must pass in\norder to host an instance. The query must use the `JsonFilter` syntax\nwhich is described\n[here](https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#jsonfilter).\nAt this time, only simple queries are supported. Compound queries using\n`and`, `or`, or `not` are not supported. An example of a simple query is:."
                },
                "SameHost": {
                    "type": "array",
                    "insertionOrder": false,
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of instance UUIDs. The instance will be\nscheduled on the same host of those specified."
                },
                "TargetCell": {
                    "type": "string",
                    "description": "The name of a cell to host the instance."
                }
            },
            "required": []
        },
        "Timeouts": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        },
        "VendorOptions": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "IgnoreResizeConfirmation": {
                    "type": "boolean",
                    "description": "Boolean to control whether\nto ignore manual confirmation of the instance resizing. This can be helpful\nto work with some OpenStack clouds which automatically confirm resizing of\ninstances after some timeout."
                }
            },
            "required": []
        },
        "Volume": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Device": {
                    "type": "string"
                },
                "Id": {
                    "type": "string"
                },
                "VolumeId": {
                    "type": "string"
                }
            },
            "required": [
                "VolumeId"
            ]
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AccessIpV4": {
            "type": "string"
        },
        "AccessIpV6": {
            "type": "string"
        },
        "AdminPass": {
            "type": "string",
            "description": "The administrative password to assign to the server.\nChanging this changes the root password on the existing server."
        },
        "AllMetadata": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            }
        },
        "AllTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            }
        },
        "AvailabilityZone": {
            "type": "string",
            "description": "The availability zone in which to create\nthe server. Changing this creates a new server."
        },
        "ConfigDrive": {
            "type": "boolean",
            "description": "Whether to use the config_drive feature to\nconfigure the instance. Changing this creates a new server."
        },
        "FlavorId": {
            "type": "string",
            "description": "The flavor ID of\nthe desired flavor for the server. Changing this resizes the existing server."
        },
        "FlavorName": {
            "type": "string",
            "description": "The name of the\ndesired flavor for the server. Changing this resizes the existing server."
        },
        "FloatingIp": {
            "type": "string"
        },
        "ForceDelete": {
            "type": "boolean",
            "description": "Whether to force the OpenStack instance to be\nforcefully deleted. This is useful for environments that have reclaim / soft\ndeletion enabled."
        },
        "Id": {
            "type": "string"
        },
        "ImageId": {
            "type": "string",
            "description": "The image ID of\nthe desired image for the server. Changing this creates a new server."
        },
        "ImageName": {
            "type": "string",
            "description": "The name of the\ndesired image for the server. Changing this creates a new server."
        },
        "KeyPair": {
            "type": "string",
            "description": "The name of a key pair to put on the server. The key\npair must already be created and associated with the tenant's account.\nChanging this creates a new server."
        },
        "Metadata": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "MapKey": {
                        "type": "string"
                    },
                    "MapValue": {
                        "type": "string"
                    }
                },
                "required": [
                    "MapKey",
                    "MapValue"
                ]
            },
            "description": "Metadata key/value pairs to make available from\nwithin the instance. Changing this updates the existing server metadata."
        },
        "Name": {
            "type": "string",
            "description": "A unique name for the resource."
        },
        "PowerState": {
            "type": "string",
            "description": "Provide the VM state. Only 'active' and 'shutoff'\nare supported values. *Note*: If the initial power_state is the shutoff\nthe VM will be stopped immediately after build and the provisioners like\nremote-exec or files are not supported."
        },
        "Region": {
            "type": "string",
            "description": "The region in which to create the server instance. If\nomitted, the `region` argument of the provider is used. Changing this\ncreates a new server."
        },
        "SecurityGroups": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            },
            "description": "An array of one or more security group names\nor ids to associate with the server. Changing this results in adding/removing\nsecurity groups from the existing server. *Note*: When attaching the\ninstance to networks using Ports, place the security groups on the Port\nand not the instance."
        },
        "StopBeforeDestroy": {
            "type": "boolean",
            "description": "Whether to try stop instance gracefully\nbefore destroying it, thus giving chance for guest OS daemons to stop correctly.\nIf instance doesn't stop within timeout, it will be destroyed anyway."
        },
        "Tags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            },
            "description": "A set of string tags for the instance. Changing this\nupdates the existing instance tags."
        },
        "UserData": {
            "type": "string",
            "description": "The user data to provide when launching the instance.\nChanging this creates a new server."
        },
        "BlockDevice": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/BlockDevice"
            }
        },
        "Network": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "$ref": "#/definitions/Network"
            }
        },
        "Personality": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/Personality"
            }
        },
        "SchedulerHints": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/SchedulerHints"
            }
        },
        "Timeouts": {
            "$ref": "#/definitions/Timeouts"
        },
        "VendorOptions": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/VendorOptions"
            },
            "maxItems": 1
        },
        "Volume": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "$ref": "#/definitions/Volume"
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "Name"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/AllMetadata",
        "/properties/AllTags",
        "/properties/Id"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "read": {
            "permissions": []
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "list": {
            "permissions": []
        }
    }
}