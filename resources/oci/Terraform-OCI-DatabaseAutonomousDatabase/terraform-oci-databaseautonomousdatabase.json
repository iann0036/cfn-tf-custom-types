{
    "typeName": "Terraform::OCI::DatabaseAutonomousDatabase",
    "description": "This resource provides the Autonomous Database resource in Oracle Cloud Infrastructure Database service.\n\nCreates a new Autonomous Database.\nNote: `whitelisted_ips` cannot be used during creation.",
    "sourceUrl": "https://github.com/iann0036/cfn-tf-custom-types.git",
    "definitions": {
        "Timeouts": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Create": {
                    "type": "string"
                },
                "Delete": {
                    "type": "string"
                },
                "Update": {
                    "type": "string"
                }
            },
            "required": []
        }
    },
    "properties": {
        "tfcfnid": {
            "description": "Internal identifier for tracking resource changes. Do not use.",
            "type": "string"
        },
        "AdminPassword": {
            "type": "string",
            "description": "(Updatable) The password must be between 12 and 30 characters long, and must contain at least 1 uppercase, 1 lowercase, and 1 numeric character. It cannot contain the double quote symbol (\") or the username \"admin\", regardless of casing."
        },
        "AutonomousContainerDatabaseId": {
            "type": "string",
            "description": "The Autonomous Container Database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm)."
        },
        "AutonomousDatabaseBackupId": {
            "type": "string",
            "description": "The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the source Autonomous Database Backup that you will clone to create a new Autonomous Database."
        },
        "AutonomousDatabaseId": {
            "type": "string",
            "description": "The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the source Autonomous Database that you will clone to create a new Autonomous Database."
        },
        "CloneType": {
            "type": "string",
            "description": "The Autonomous Database clone type.\n* `FULL` - This option creates a new database that includes all source database data.\n* `METADATA` - This option creates a new database that includes the source database schema and select metadata, but not the source database data."
        },
        "CompartmentId": {
            "type": "string",
            "description": "(Updatable) The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the compartment of the Autonomous Database."
        },
        "ConnectionStrings": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "AllConnectionStrings": {
                        "type": "array",
                        "insertionOrder": true,
                        "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "Key": {
                                    "type": "string"
                                },
                                "Value": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "Key",
                                "Value"
                            ]
                        }
                    },
                    "Dedicated": {
                        "type": "string"
                    },
                    "High": {
                        "type": "string"
                    },
                    "Low": {
                        "type": "string"
                    },
                    "Medium": {
                        "type": "string"
                    }
                }
            }
        },
        "ConnectionUrls": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "ApexUrl": {
                        "type": "string"
                    },
                    "MachineLearningUserManagementUrl": {
                        "type": "string"
                    },
                    "SqlDevWebUrl": {
                        "type": "string"
                    }
                }
            }
        },
        "CpuCoreCount": {
            "type": "number",
            "description": "(Updatable) The number of OCPU cores to be made available to the database. This input is ignored for Always Free resources."
        },
        "DataSafeStatus": {
            "type": "string",
            "description": "(Updatable) Target status of the Data Safe registration for this Autonomous Database. Could be set to REGISTERED or NOT_REGISTERED."
        },
        "DataStorageSizeInTbs": {
            "type": "number",
            "description": "(Updatable) The size, in terabytes, of the data volume that will be created and attached to the database. This storage can later be scaled up if needed. This input is ignored for Always Free resources."
        },
        "DbName": {
            "type": "string",
            "description": "The database name. The name must begin with an alphabetic character and can contain a maximum of 14 alphanumeric characters. Special characters are not permitted. The database name must be unique in the tenancy."
        },
        "DbVersion": {
            "type": "string",
            "description": "A valid Oracle Database version for Autonomous Database."
        },
        "DbWorkload": {
            "type": "string",
            "description": "The Autonomous Database workload type. The following values are valid:\n* OLTP - indicates an Autonomous Transaction Processing database\n* DW - indicates an Autonomous Data Warehouse database."
        },
        "DefinedTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "Key": {
                        "type": "string"
                    },
                    "Value": {
                        "type": "string"
                    }
                },
                "required": [
                    "Key",
                    "Value"
                ]
            },
            "description": "(Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm)."
        },
        "DisplayName": {
            "type": "string",
            "description": "(Updatable) The user-friendly name for the Autonomous Database. The name does not have to be unique."
        },
        "FreeformTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "Key": {
                        "type": "string"
                    },
                    "Value": {
                        "type": "string"
                    }
                },
                "required": [
                    "Key",
                    "Value"
                ]
            },
            "description": "(Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{\"Department\": \"Finance\"}`."
        },
        "IsAutoScalingEnabled": {
            "type": "boolean",
            "description": "(Updatable) Indicates if auto scaling is enabled for the Autonomous Database OCPU core count. The default value is `FALSE`. Note that auto scaling is available for databases on [shared Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adboverview.htm#AEI) only."
        },
        "IsDedicated": {
            "type": "boolean",
            "description": "True if the database is on [dedicated Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adbddoverview.htm)."
        },
        "IsFreeTier": {
            "type": "boolean",
            "description": "(Updatable) Indicates if this is an Always Free resource. The default value is false. Note that Always Free Autonomous Databases have 1 CPU and 20GB of memory. For Always Free databases, memory and CPU cannot be scaled."
        },
        "IsPreview": {
            "type": "boolean"
        },
        "IsPreviewVersionWithServiceTermsAccepted": {
            "type": "boolean",
            "description": "If set to `TRUE`, indicates that an Autonomous Database preview version is being provisioned, and that the preview version's terms of service have been accepted. Note that preview version software is only available for databases on [shared Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adboverview.htm#AEI)."
        },
        "LicenseModel": {
            "type": "string",
            "description": "(Updatable) The Oracle license model that applies to the Oracle Autonomous Database. Note that when provisioning an Autonomous Database on [dedicated Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adbddoverview.htm), this attribute must be null because the attribute is already set at the  Autonomous Exadata Infrastructure level. When using [shared Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adboverview.htm#AEI), if a value is not specified, the system will supply the value of `BRING_YOUR_OWN_LICENSE`."
        },
        "LifecycleDetails": {
            "type": "string"
        },
        "NsgIds": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "string"
            },
            "description": "(Updatable) A list of the [OCIDs](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the network security groups (NSGs) that this resource belongs to. Setting this to an empty array after the list is created removes the resource from all NSGs. For more information about NSGs, see [Security Rules](https://docs.cloud.oracle.com/iaas/Content/Network/Concepts/securityrules.htm). **NsgIds restrictions:**\n* Autonomous Databases with private access require at least 1 Network Security Group (NSG). The nsgIds array cannot be empty."
        },
        "PrivateEndpoint": {
            "type": "string"
        },
        "PrivateEndpointLabel": {
            "type": "string",
            "description": "The private endpoint label for the resource."
        },
        "ServiceConsoleUrl": {
            "type": "string"
        },
        "Source": {
            "type": "string",
            "description": "The source of the database: Use `NONE` for creating a new Autonomous Database. Use `DATABASE` for creating a new Autonomous Database by cloning an existing Autonomous Database."
        },
        "SourceId": {
            "type": "string",
            "description": "The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the source Autonomous Database that you will clone to create a new Autonomous Database."
        },
        "State": {
            "type": "string"
        },
        "SubnetId": {
            "type": "string",
            "description": "The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the subnet the resource is associated with."
        },
        "SystemTags": {
            "type": "array",
            "insertionOrder": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "Key": {
                        "type": "string"
                    },
                    "Value": {
                        "type": "string"
                    }
                },
                "required": [
                    "Key",
                    "Value"
                ]
            }
        },
        "TimeCreated": {
            "type": "string"
        },
        "TimeDeletionOfFreeAutonomousDatabase": {
            "type": "string"
        },
        "TimeMaintenanceBegin": {
            "type": "string"
        },
        "TimeMaintenanceEnd": {
            "type": "string"
        },
        "TimeReclamationOfFreeAutonomousDatabase": {
            "type": "string"
        },
        "Timestamp": {
            "type": "string",
            "description": "The timestamp specified for the point-in-time clone of the source Autonomous Database. The timestamp must be in the past."
        },
        "UsedDataStorageSizeInTbs": {
            "type": "number"
        },
        "WhitelistedIps": {
            "type": "array",
            "insertionOrder": false,
            "items": {
                "type": "string"
            },
            "description": "(Updatable) The client IP access control list (ACL). This feature is available for databases on [shared Exadata infrastructure](https://docs.cloud.oracle.com/iaas/Content/Database/Concepts/adboverview.htm#AEI) only. Only clients connecting from an IP address included in the ACL may access the Autonomous Database instance. This is an array of CIDR (Classless Inter-Domain Routing) notations for a subnet or VCN OCID. To add the whitelist VCN specific subnet or IP, use a semicoln ';' as a deliminator to add the VCN specific subnets or IPs. Example: `[\"1.1.1.1\",\"1.1.1.0/24\",\"ocid1.vcn.oc1.sea.aaaaaaaard2hfx2nn3e5xeo6j6o62jga44xjizkw\",\"ocid1.vcn.oc1.sea.aaaaaaaard2hfx2nn3e5xeo6j6o62jga44xjizkw;1.1.1.1\",\"ocid1.vcn.oc1.sea.aaaaaaaard2hfx2nn3e5xeo6j6o62jga44xjizkw;1.1.0.0/16\"]`. To remove all whitelisted IPs, set the field to a list with an empty string `[\"\"]`."
        },
        "Timeouts": {
            "$ref": "#/definitions/Timeouts"
        }
    },
    "additionalProperties": false,
    "required": [
        "AdminPassword",
        "CompartmentId",
        "CpuCoreCount",
        "DataStorageSizeInTbs",
        "DbName"
    ],
    "readOnlyProperties": [
        "/properties/tfcfnid",
        "/properties/ConnectionStrings",
        "/properties/ConnectionUrls",
        "/properties/IsPreview",
        "/properties/LifecycleDetails",
        "/properties/PrivateEndpoint",
        "/properties/ServiceConsoleUrl",
        "/properties/State",
        "/properties/SystemTags",
        "/properties/TimeCreated",
        "/properties/TimeDeletionOfFreeAutonomousDatabase",
        "/properties/TimeMaintenanceBegin",
        "/properties/TimeMaintenanceEnd",
        "/properties/TimeReclamationOfFreeAutonomousDatabase",
        "/properties/UsedDataStorageSizeInTbs"
    ],
    "primaryIdentifier": [
        "/properties/tfcfnid"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "read": {
            "permissions": []
        },
        "update": {
            "permissions": [
                "s3:GetObject",
                "s3:PutObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "delete": {
            "permissions": [
                "s3:GetObject",
                "s3:DeleteObject",
                "secretsmanager:GetSecretValue"
            ]
        },
        "list": {
            "permissions": []
        }
    }
}